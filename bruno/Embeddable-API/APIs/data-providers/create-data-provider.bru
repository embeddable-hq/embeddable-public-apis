meta {
  name: Create data provider
  type: http
  seq: 4
}

post {
  url: {{host}}/api/v1/data-providers
  body: json
  auth: inherit
}

body:json {
  {
    /* 
     * learn more [here](https://docs.embeddable.com/data/cube-cloud) 
     */
    "name": "{{providerName}}",
    "type": "cube",
    "credentials": {
      "secretKey": "my-encrypted-secret",
      "instanceUrl": "https://cube-instance-url"
    }
  }
}

vars:pre-request {
  providerName: staging
}

settings {
  encodeUrl: true
}
